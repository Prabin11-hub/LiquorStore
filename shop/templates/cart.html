{% extends 'base.html' %}
{% load static %}

{% block content %}
<section class="ftco-section">
  <div class="container">
    <h2 class="mb-4">Your Cart</h2>
    <div class="cart-list">
      <table class="table">
        <thead class="thead-primary">
          <tr class="text-center">
            <th>&nbsp;</th>
            <th>Product</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Total</th>
            <th>Remove</th>
          </tr>
        </thead>
        <tbody>
          {% for item in cart.items.all %}
          <tr class="text-center">
            <td class="image-prod">
              <img src="{{ item.product.image.url }}" class="img-fluid" style="height: 80px;" />
            </td>
            <td class="product-name">
              <h3>{{ item.product.name }}</h3>
            </td>
            <td class="price">${{ item.product.price }}</td>
            <td class="quantity">{{ item.quantity }}</td>
            <td class="total">${{ item.product.price|multiply:item.quantity }}</td>
            <td>
              <a href="{% url 'remove_from_cart' item.id %}" class="btn btn-danger btn-sm">X</a>
            </td>
          </tr>
          {% empty %}
          <tr><td colspan="6" class="text-center">Your cart is empty.</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="text-right mt-4">
      <a href="{% url 'checkout' %}" class="btn btn-primary">Proceed to Checkout</a>
    </div>
  </div>
</section>
{% endblock %}
